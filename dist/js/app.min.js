(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#phone");new IMask(e,{mask:"+998 00 000 00 00"});const t=document.querySelector(".modal"),n=document.querySelector(".brochure-button"),o=document.querySelector(".modal-close"),c=e=>new Promise((t=>setTimeout(t,e)));n.onclick=async()=>{t.style.opacity="0",t.style.display="flex",await c(50),t.style.opacity="1"},o.onclick=async()=>{t.style.opacity="0",await c(500),t.style.display="none"};const a=document.querySelectorAll(".viewer-button"),l=document.querySelector(".viewer"),r=document.querySelector(".viewer-content"),s=document.querySelector(".viewer-close"),i=document.querySelector(".viewer-title");let y=null;const d=async e=>{const t=e.target.dataset.image,n=e.target.querySelector("span:first-child").textContent,o=e.target.querySelector("span:last-child").textContent,a=document.createElement("span"),s=document.createElement("span");a.textContent=n,s.textContent=o,i.innerHTML="",i.appendChild(a),i.appendChild(s),y&&y.destroy(),y=new PhotoSphereViewer.Viewer({container:r,panorama:t}),l.style.opacity="0",l.style.display="flex",await c(50),l.style.opacity="1"};a.forEach((e=>{e.onclick=d})),s.onclick=async()=>{l.style.opacity="0",await c(500),l.style.display="none"}}))})();